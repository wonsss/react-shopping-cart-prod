# 장바구니 협업 미션

## step2 기능 구현사항(마르코)

- [x] 사용자 인증 관련 API
  - [x] 사용자 인증 API에 대하여 msw로 모킹하여 로컬에서 테스트할 수 있다.
  - [x] 백엔드 크루가 제공한 사용자 인증 API로 호스트를 변경하여 [배포한 주소](https://dapper-cendol-564223.netlify.app/)에서 테스트할 수 있다(테스트 성공).
    - [x] 회원가입, 로그인, 로그아웃, 회원탈퇴 기능은 정상 작동 확인
    - [ ] 회원수정(닉네임 변경, 회원정보 수정) API는 수정하여 다시 연동 필요
- [ ] 장바구니 관련 API
  - [ ] 사용자 인증 API에 대하여 msw로 모킹하여 로컬에서 테스트할 수 있다.
  - [ ] 백엔드 크루가 제공한 사용자 인증 API로 호스트를 변경하여 [배포한 주소](https://dapper-cendol-564223.netlify.app/)에서 테스트할 수 있다.
- [ ] 페이지 추가 구현
  - [ ] 주문/결제 컴포넌트 페이지 구현
  - [ ] 주문 목록 컴포넌트 페이지 구현
- [ ] 장바구니 수량 추가 팝업 컴포넌트에서 수량 변경 시 디바운스가 장바구니에 담기는 데 미치는 문제 해결
- [x] 새로고침 시 로그인 유지
- [ ] 스낵바 메시지 보완
  - [ ] 회원가입 실패 시 상황에 맞는 적절한 메시지 다양화
  - [ ] 로그인 직후 뜨는 `이미 로그인된 유저입니다`라는 실패 메시지 수정
- [ ] axios 사용 시 http 메서드의 headers 중복 줄이기
- [ ] 로딩 스피너 추가
- [ ] thunk 필요한 부분 적용
- [ ] suspense 적용

### 필수 요구사항

- 로컬 기반의 장바구니를 서버 기반으로 변경
- API 호스트를 변경해 모든 백엔드 크루들의 API를 테스트할 수 있어야한다.

### 결과물 확인방법

- Development
  - `npm install` 후 `npm run start` 하여 로컬 서버 구동
  - [x] development 모드에서 msw가 동작하여 API를 모킹한다.
- Production
  - 배포한 주소 : https://dapper-cendol-564223.netlify.app/
  - [x] 백엔드 크루가 제공한 API를 사용한다.

### 트러블 슈팅

- 클라이언트에서 AJAX 요청을 보낼 때 발생하는 문제 해결
  - [ ] netlify를 통해 배포한 Url(https)에서 백엔드에서 만든 API Url(http)과 통신하려고 하자, SSL 관련 에러가 발생하였다.
    - [백엔드 해결방법] 해당 API가 https를 지원하도록 설정
    - [프론트엔드 임시방편] 임시방편이지만, 로컬에서 구동하면 http라서 http인 API와 연결이 가능하므로 로컬에서 백엔드의 API를 테스트한다.
  - [x] CORS 에러 발생 : 보안상의 이유로 브라우저들이 다른 도메인에게 XHR 요청을 보내는 것을 제한하기 때문에 발생한다
    - [백엔드 해결방법] 응답 헤더의 `Access-Control-Allow-Origin`에 프론트엔드에서 배포한 Url을 추가한다.(즉, 다른 origin에 대한 요청을 허용)
    - [프론트엔드 해결방법] 백엔드에서 위와 같이 헤더에 배포 주소를 추가해주더라도, origin이 다른 http 통신에서는 요청 헤더에 쿠키가 자동으로 들어가지 않는다. 쿠키를 요청에 포함하고 싶으면 프론트에서도 요청 헤더에 `withCredentials`를 true로 설정하여 보내준다.

## step1 기능 구현사항(마르코 X 무비)

- [x] 로그인
  - 이메일
    - 3자리 이상이어야 한다.
  - 비밀번호
    - 10자리 이상이어야 한다.
  * 유효성 검사 통과되면, disabled 버튼이 activated된다.
- [x] 회원가입
  - 이메일
    - `@` 가 있어야 한다
    - 공백이 있으면 안 된다.
    - `@` 이후 `.`이 있어야 한다.
  - 비밀번호
    - 10자리 이상이어야 한다.
    - 영문자, 숫자, 특수문자 3가지가 모두 포함되어야 한다.
  - 닉네임
    - 2자리 이상 10자리 이하이어야 한다.
- [x] 회원정보 수정
  - 비밀번호
    - 10자리 이상이어야 한다.
    - 영문자, 숫자, 특수문자 3가지가 모두 포함되어야 한다.
  - 닉네임
    - 2자리 이상 10자리 이하이어야 한다.
- [x] 회원탈퇴
